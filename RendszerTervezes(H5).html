<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html style="direction: ltr;">
<head>


    <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">



    <title>Rendszer tervezés</title>
    <meta name="GENERATOR" content="OpenOffice.org 1.1.3  (Win32)">


    <meta name="CREATED" content="20251125;10511444">


    <meta name="CHANGEDBY" content="Lajos Ficsor">


    <meta name="CHANGED" content="20251125;10531557">


    <style>
    </style>
</head>


<body link="#0000ff" vlink="#800080">

<p style="margin-bottom: 0cm;" align="left" lang="hu-HU"><font style="font-size: 22pt;" size="6">Csoport
    neve: BETYÁRBRIGANTIK</font></p>
<p style="margin-bottom: 0cm;" align="left"><font style="font-size: 22pt;" size="6">Feladat
    sorszáma: 5</font></p>
<p style="margin-bottom: 0cm;" align="left"><font style="font-size: 22pt;" size="6">Feladat
    címe: Janus webalkalmazás</font></p>

<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>

<p style="margin-bottom: 0cm;" align="center" lang="hu-HU"><font style="font-size: 26pt;" size="6"><b><span lang="en-US">Rendszertervezés</span></b></font></p>

<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>
<p style="margin-bottom: 0cm;" align="center"><br></p>

<p style="margin-bottom: 0cm;" align="center" lang="hu-HU"><font size="4">Gyakorlatvezető:</font></p>
<p style="margin-bottom: 0cm;" align="center" lang="hu-HU"><font style="font-size: 22pt;" size="6">SÁTÁN ÁDÁM</font></p>

<p style="margin-bottom: 0cm;" align="center"><br></p>

<p style="margin-bottom: 0cm;" align="left" lang="hu-HU"><font style="font-size: 16pt;" size="4">Csoport
    tagok:</font></p>

<p style="margin-bottom: 0cm;" align="left"><br></p>

<table border="1" cellpadding="4" cellspacing="3" width="90%">

    <colgroup><col width="118">
        <col width="75">
        <col width="264">
    </colgroup><tbody>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">SÁTÁN ÁDÁM</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">TANKÖR</font></p>
    </td>
    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">adam.satan@uni-miskolc.hu vagy satan@iit.uni-miskolc.hu</font></p>
    </td>
</tr>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">KOCSÁN LÁSZLÓ</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">EK298H</font></p>
    </td>
    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">kocsalaci12@gmail.com</font></p>
    </td>
</tr>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">UJVÁRI ZSOMBOR BALÁZS</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">QPQ7K4</font></p>
    </td>
    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">zsombor.dobcsi@gmail.com</font></p>
    </td>
</tr>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">VÁGÁSI BENCE</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">FNCCGA</font></p>
    </td>
    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">bence.vagasi@gmail.com</font></p>
    </td>
</tr>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">HÉJJAS GYULA</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">E24HDO</font></p>
    </td>
    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">hejjasgyula2004@gmail.com</font></p>
    </td>
</tr>

<tr valign="top">
    <td width="118">
        <p align="left" lang="hu-HU"><font size="3">POCSAI BÁLINT</font></p>
    </td>
    <td width="75">
        <p align="left" lang="hu-HU"><font size="3">EQJL0O</font></p>
    </td>

    <td width="264">
        <p align="left" lang="hu-HU"><font size="3">pocsaibalint@gmail.com</font></p>
    </td>
</tr>

</tbody>
</table>

<p style="margin-bottom: 0cm;" align="left"><br></p>

<p style="margin-bottom: 0cm;" align="right" lang="hu-HU"><font size="4">2025.11.24.</font></p>

<p>&nbsp;</p>

<p align="center"><b>Történet</b></p>

<p>&nbsp;</p>

<table border="1" bordercolor="#000000" cellpadding="2" cellspacing="1">

    <thead>
    <tr valign="top">

        <td width="95">

            <p>Dátum</p>

        </td>

        <td width="65">

            <p>Verzió</p>

        </td>

        <td width="322">

            <p>Leírás</p>

        </td>

        <td width="161">

            <p>Szerző</p>

        </td>

    </tr>

    </thead>
    <tbody>

    <tr valign="top">
        <td width="95">
            <p>2025. 11. 21.</p>
        </td>
        <td width="65">
            <p>1.0</p>
        </td>
        <td width="322">
            <p>Kezdeti váz, struktúra és a 2. fejezet (Felhasználói felület) kidolgozása.</p>
        </td>
        <td width="161">
            <p>Ujvári Zsombor Balázs</p>
        </td>
    </tr>

    <tr valign="top">
        <td width="95">
            <p>2025. 11. 23.</p>
        </td>
        <td width="65">
            <p>1.1</p>
        </td>
        <td width="322">
            <p>Adatmodellek (3.3-3.4), Tesztelési Terv (5.) és Funkcionális kiegészítés (4.) kidolgozása.</p>
        </td>
        <td width="161">
            <p>Héjjas Gyula, Pocsai Bálint</p>
        </td>
    </tr>

    <tr valign="top">
        <td width="95">
            <p>2025. 11. 24.</p>
        </td>
        <td width="65">
            <p>1.2</p>
        </td>
        <td width="322">
            <p>Végső formai ellenőrzés, dokumentum leadásra kész.</p>
        </td>
        <td width="161">
            <p>Kocsán László</p>
        </td>
    </tr>


    </tbody>
</table>

<p>&nbsp;</p>


<p>&nbsp;</p>

<hr>
<p><br>
    <br>

</p>

<p><b>Tartalomjegyzék</b></p>

<p>&nbsp;</p>

<p><a href="#_Toc130874265">1. Bevezetés</a></p>

<p><a href="#_Toc130874266">2. Felhasználói felület</a></p>
<p style="margin-left: 0.5cm;"><a href="#Hallgatoi">2.1. Hallgatói Felület Terv</a></p>
<p style="margin-left: 0.5cm;"><a href="#Oktatoi">2.2. Oktatói/Adminisztrátori Felület Terv</a></p>
<p><a href="#_Toc130874267">3. Adatmodellek</a></p>

<p style="margin-left: 0.5cm;"><a href="#_Toc130874268">3.1. Adatbázis kezelő kiválasztása</a></p>

<p style="margin-left: 0.5cm;"><a href="#_Toc130874269">3.2. Szemantikai adatmodell</a></p>

<p style="margin-left: 0.5cm;"><a href="#_Toc130874270">3.3 Relációs adatmodell</a></p>
<p style="margin-left: 1cm;"><a href="Tablakterve">3.3.1. Főbb MySQL táblák terve</a></p>

<p style="margin-left: 0.5cm;"><a href="#_Toc130874271">3.4. Az adatbázis kezelővel kapcsolatot
    tartó osztályok</a></p>

<p><a href="#_Toc130874272">4. A funkcionális modell kiegészítése</a></p>

<p><a href="#_Toc130874273">5. Tesztelési Terv</a></p>
<p style="margin-left: 0.5cm;"><a href="#Unit">5.1. Unit Tesztek (Backend)</a></p>
<p style="margin-left: 0.5cm;"><a href="#Integ">5.2. Integrációs Tesztek</a></p>
<p style="margin-left: 0.5cm;"><a href="#Felulet">5.3. Felhasználói Felület Tesztelése (Frontend)</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h1><a name="_Toc101183564"></a><a name="_Toc130874265"></a>1.
    Bevezetés</h1>

<p>
    A Rendszertervezés dokumentum a Janus webalkalmazás tervezési fázisának eredményeit összegzi. Célja, hogy az Analízis Modell (H4) és a Szoftver Követelmény Specifikáció (SRS) alapján meghatározza a rendszer fizikai és technikai megvalósításának részleteit. Kiemelten foglalkozik a felhasználói felület megtervezésével és az MySQL adatbázis pontos kialakításával.
</p>

<p>&nbsp;</p>

<h1><a name="_Toc101183569"></a><a name="_Toc130874266"></a>2.
    Felhasználói felület</h1>

<p>&nbsp;</p>

<p>A felhasználói felület terve. A felület tervezése során a Next.js, TypeScript és a Tailwind CSS/HeroUI technológiákat használjuk, biztosítva a modern és reszponzív megjelenést. A cél egy felhasználóbarát, letisztult felület létrehozása, amely minden eszközön egységes élményt nyújt.</p>

<p>&nbsp;</p>

<h2><a name="Hallgatoi"></a>2.1. Hallgatói Felület Terv</h2>
<p>
    A Hallgatói felület egy központi irányítópulttal indul, amely összefoglalja a legfontosabb információkat: aktuális félév, kreditállás, kiírt vizsgák száma és pénzügyi egyenleg. A navigáció menüpontjai: Tanulmányok (Kurzusfelvétel, Jegyek), Vizsgák, Pénzügyek, Üzenetek. A felület minimalista, HeroUI komponensekre épül.
</p>

<h2><a name="Oktatoi"></a>2.2. Oktatói/Adminisztrátori Felület Terv</h2>
<p>
    Az Oktatói felület a kurzusadminisztrációra és a jegybeírásra fókuszál. Egy táblázatos nézetet használ, amely lehetővé teszi a jegyek gyors beírását és a Hallgatói listák kezelését. Az Adminisztrátori felület egy elkülönített, magas biztonsági szinttel védett felület, amely jogosultságkezelésre, adatbázis-karbantartásra és statisztikai riportok futtatására szolgál.
</p>

<p>&nbsp;</p>

<h1><a name="_Toc101183576"></a><a name="_Toc130874267"></a>3.
    Adatmodellek</h1>

<p>Ez a fejezet az alkalmazás perzisztens adatainak elrendezését és az adatbázis kapcsolatát írja le, az Analízis Modell osztályai alapján. A perzisztenciát a MySQL adatbázis biztosítja.</p>

<p>&nbsp;</p>

<h2><a name="_Toc130874268"></a>3.1. Adatbázis kezelő kiválasztása</h2>

<p>
    A választott adatbázis-kezelő a MySQL 8.0, amely egy relációs adatbázis-kezelő rendszer. Kiemelt szempont volt a megbízhatóság, a tranzakciókezelési képesség és az alacsony üzemeltetési költség. A kapcsolatot az alkalmazás és az adatbázis között a Java Spring Boot backend Spring Data JPA modulja biztosítja.
</p>

<p>&nbsp;</p>

<h2><a name="_Toc130874269"></a>3.2. Szemantikai adatmodell</h2>

<p>A szemantikai adatmodell megtervezése E-R (Entitás-Kapcsolat) diagrammal történik. Ez a diagram az Analízis Modell főbb osztályait (Entitásait) és a köztük lévő logikai kapcsolatokat, valamint a kardinalitásokat (számosságokat) ábrázolja, függetlenül a fizikai megvalósítástól.</p>
<p>A főbb entitások azonosítása: Felhasználó, Kurzus, Vizsga, Jegy, PénzügyiTétel. A Hallgató és Kurzus közötti KurzusFelvétel mint asszociációs entitás szerepel a modellben.
</p>

<p align="center">E-R Diagram hivatkozás: <a href="diagramsz/er.png">1. ábra</a></p>

<p>&nbsp;</p>

<h2><a name="_Toc130874270"></a>3.3 Relációs adatmodell</h2>

<p>A relációs adatmodellre konvertálás az E-R diagramból történik, amelynek eredménye a táblák, oszlopok, elsődleges kulcsok (Primary Keys) és idegen kulcsok (Foreign Keys) rendszere, amely a MySQL adatbázis sémáját képezi. A konverzió során az N:M kapcsolatok (pl. Hallgató és Kurzus) külön összekötő táblákká alakulnak.</p>

<h3><a name="Tablakterve"></a>3.3.1 Főbb MySQL táblák terve</h3>

<p>
    A főbb táblák tervezete, melyek a Tanulmányi Alrendszer alapját képezik:
</p>
<table border="1" cellpadding="2" cellspacing="1" width="90%">
    <tr valign="top">
        <td width="20%"><b>TÁBLA</b></td>
        <td width="30%"><b>OSZLOP (KULCS)</b></td>
        <td width="50%"><b>LEÍRÁS</b></td>
    </tr>
    <tr valign="top">
        <td>FELHASZNÁLÓ</td>
        <td>neptun_kod (PK), email, teljes_nev, szerepkor, jelszo_hash, utolso_belepes</td>
        <td>Azonosítási, kapcsolattartási és belépési adatok.</td>
    </tr>
    <tr valign="top">
        <td>HALLGATO_ADATOK</td>
        <td>hallgato_id (PK, FK: FELHASZNÁLÓ), szuletesi_datum, szak, szamlavezetesi_szam</td>
        <td>Specifikus hallgatói és pénzügyi adatok.</td>
    </tr>
    <tr valign="top">
        <td>KURZUS</td>
        <td>kurzus_id (PK), kod, nev, kredit, felelos_oktato (FK), leiras, nyelv</td>
        <td>Tantárgyak, leírások, nyelvi beállítások és alapadatok.</td>
    </tr>
    <tr valign="top">
        <td>KURZUS_FELVETEL</td>
        <td>hallgato_fk (PK, FK), kurzus_fk (PK, FK), statusz, felvetel_datum</td>
        <td>N:M kapcsolat a Hallgató és Kurzus között.</td>
    </tr>
    <tr valign="top">
        <td>JEGY</td>
        <td>jegy_id (PK), hallgato_fk (FK), kurzus_fk (FK), erdemjegy, beiras_datum, oktato_fk (FK)</td>
        <td>Hallgatói eredmények, beírás dátuma és felelős oktató.</td>
    </tr>
    <tr valign="top">
        <td>PÉNZÜGYI_TÉTEL</td>
        <td>tetel_id (PK), hallgato_fk (FK), nev, osszeg, tipus, hatarido, datum</td>
        <td>Tandíj, vizsgadíj és befizetési határidők.</td>
    </tr>
    <tr valign="top">
        <td>BEFIZETES_TÖRTÉNET</td>
        <td>befizetes_id (PK), tetel_fk (FK: PÉNZÜGYI_TÉTEL), osszeg, datum, tranzakcio_kod</td>
        <td>Részletes befizetési adatok és tranzakciókövetés.</td>
    </tr>
</table>

<p>&nbsp;</p>

<h2><a name="_Toc130874271"></a>3.4. Az adatbázis kezelővel
    kapcsolatot tartó osztályok</h2>

<p>
    A Spring Boot keretrendszerben az adatbázis-kapcsolatot az ORM (Object-Relational Mapping) réteg végzi, Spring Data JPA használatával.
</p>
<ul>
    <li>Entitás Osztályok (Data Entities): A Java kód objektumai, amelyek közvetlenül leképeződnek az adatbázis tábláira (pl. `User.java` -> `FELHASZNÁLÓ` tábla).</li>
    <li>Repository Osztályok: Ezek az interfészek felelősek a kommunikációért, mint az adatok lekérdezése, mentése és törlése (pl. `UserRepository.java`). Ez a réteg minimalizálja a közvetlen SQL kód írását.</li>
</ul>

<p>Ezek az osztályok biztosítják, hogy a Java Spring Boot backend tranzakciókezelése megbízható legyen, és a RESTful API-n keresztül gyorsan tudjon adatot szolgáltatni a Next.js frontend számára.</p>

<p>&nbsp;</p>

<h1><a name="_Toc101183577"></a><a name="_Toc130874272"></a>4. A
    funkcionális modell kiegészítése</h1>

<p>
    Ebben a fázisban a kritikus funkciók kivételes és alternatív feldolgozási folyamatai kerülnek részletes dokumentálásra, ha az SRS-ben szereplő Use Case leírások ezt igénylik. A fő hangsúly az adatintegritás megőrzésén és a hibák felhasználóbarát kezelésén van.
</p>
<ul>
    <li>Tranzakciós Folyamatok: Részletes diagramok készítése a Vizsgára jelentkezés teljes tranzakciós életciklusáról, biztosítva a helyes `rollback` (visszagörgetés) logikát a Spring Bootban.</li>
    <li>Aszinkron Folyamatok: Az Értesítési Rendszer aszinkron működésének dokumentálása (pl. üzenetküldés vizsgaidőpont változásakor), ami elválasztja az SMTP kommunikációt a fő üzleti logikától.</li>
</ul>

<p>&nbsp;</p>

<h1><a name="_Toc101183578"></a><a name="_Toc130874273"></a>5. Tesztelési Terv</h1>
<h2><a name="Unit"></a>5.1. Unit Tesztek (Backend)</h2>
<p>
    A Java/Spring Boot backend üzleti logikáját a JUnit 5 keretrendszerrel és a Mockito könyvtárral tervezzük tesztelni. Főbb teszt esetek, amelyek a tranzakciókezelést és a jogosultságokat ellenőrzik:
</p>
<ul>
    <li>VizsgaJelentkezés: Ellenőrizni, hogy a hallgató csak akkor tud jelentkezni, ha a vizsgán van szabad hely és a határidő érvényes (Határérték analízis).</li>
    <li>KreditEllenőrzés: Validálni, hogy a KurzusFelvétel Controller helyesen ellenőrzi az előfeltételeket és a hallgató féléves kreditlimitjét (Ekvivalencia partícionálás).</li>
</ul>
<h2><a name="Integ"></a>5.2. Integrációs Tesztek</h2>
<p>
    A Spring Data JPA réteg és a MySQL közötti kommunikáció tesztelése. Főbb teszt esetek:
</p>
<ul>
    <li>Tranzakciós Folyamat: Tesztelni a PénzügyiTétel és a KurzusFelvétel együttes mentését, biztosítva az automatikus `rollback`-et hiba esetén (Tranzakciós integritás ellenőrzése).</li>
    <li>API Endpoint Tesztelés: A RESTful API végpontok (pl. `/api/v1/jegybeiras`) tesztelése külső eszközzel (pl. Postman) a válaszidő és a válasz törzsének helyessége szempontjából.</li>
</ul>
<h2><a name="Felulet"></a>5.3. Felhasználói Felület Tesztelése (Frontend)</h2>
<p>
    A Next.js frontend funkcionális tesztelését a Jest és a Testing Library segítségével tervezzük végezni. Főbb teszt esetek:
</p>
<ul>
    <li>Navigáció és Jogosultság: Ellenőrizni, hogy egy bejelentkezett Oktató látja-e a "Jegybeírás" menüpontot, de nem látja a "Jogosultságok kezelése" menüpontot (Szerepkör alapú hozzáférés ellenőrzése).</li>
    <li>Forma Validáció: Ellenőrizni a Hallgatói felületen a Vizsgajelentkezési űrlap helyes beviteli ellenőrzését (Front-end validáció).</li>
</ul>

<p>&nbsp;</p>

<p>Végül itt következhet még további fejezetekben minden olyan, ami a
    részletes tervezés során dokumentálandó. Például ide kerülhetnek az
    implementációhoz szükséges osztályok tervei, osztálydiagramjai,
    fontosabb algoritmusok és adatszerkezetek leírásai stb. Mivel a csoport az implementációs fázist a tervek alapján végzi, forráskód leadása ebben a szakaszban nem történt.</p>

<p>&nbsp;</p>


    <h1><a name="10"></a>6. Szótár</h1>

<p><strong>Rendszertervezés:</strong> A szoftver fizikai és technikai felépítésének megtervezése az analízis alapján.</p>

<p><strong>Next.js:</strong> Modern JavaScript/TypeScript alapú webes keretrendszer frontend alkalmazások készítésére.</p>

<p><strong>TypeScript:</strong> A JavaScript típusos kiterjesztése, amely biztonságosabb és átláthatóbb fejlesztést biztosít.</p>

<p><strong>Tailwind CSS:</strong> Segédosztályokból (utility class) építkező CSS keretrendszer, amely gyorsítja a modern webes UI-ok fejlesztését.</p>

<p><strong>HeroUI:</strong> Előre elkészített, modern webes UI komponensek gyűjteménye.</p>

<p><strong>perzisztencia:</strong> Az adatok tartós tárolása adatbázisban vagy más tárolórendszerben.</p>

<p><strong>Spring Boot:</strong> Java-alapú keretrendszer, amely leegyszerűsíti backend alkalmazások fejlesztését.</p>

<p><strong>Spring Data JPA:</strong> A Spring keretrendszer része, amely automatikusan kezeli az adatbázis-leképezést és lekérdezéseket.</p>

<p><strong>szemantikai adatmodell:</strong> Az adatok tényleges jelentésén alapuló logikai modell (pl. E-R diagram).</p>

<p><strong>kardinalitás / számosság:</strong> A kapcsolatban résztvevő elemek darabszáma (pl. 1:N vagy N:M kapcsolat).</p>

<p><strong>adatintegritás:</strong> Az adatok pontosságának és következetességének biztosítása.</p>
    
<p><strong>rollback:</strong> Hibakezelési folyamat, amely visszaállítja az adatbázist a tranzakció előtti állapotra.</p>

<p><strong>aszinkron folyamat:</strong> Olyan művelet, amely a háttérben fut anélkül, hogy a fő programot megvárakoztatná.</p>

<p><strong>SMTP:</strong> E-mail küldésére szolgáló kommunikációs protokoll.</p>

<p><strong>Unit teszt:</strong> Olyan teszt, amely egyetlen függvény vagy komponens helyes működését vizsgálja.</p>

<p><strong>JUnit:</strong> Java alapú tesztelési keretrendszer.</p>

<p><strong>Mockito:</strong> Mock objektumok létrehozására képes Java tesztkönyvtár.</p>

<p><strong>Határérték-analízis:</strong> Tesztelési módszer, amely extrém vagy határértékhez közeli bemeneteket vizsgál.</p>

<p><strong>Ekvivalencia-particionálás:</strong> Tesztelési módszer, amely a bemeneteket csoportokra bontja, és ezekből választ reprezentatív teszteseteket.</p>

<p><strong>Integrációs teszt:</strong> Több komponens vagy réteg együttes működésének tesztelése.</p>

<p><strong>API endpoint:</strong> Konkrét cím, amelyen keresztül a kliens kommunikál a szerverrel (pl. /api/v1/jegy).</p>

<p><strong>Postman:</strong> API-k tesztelésére használt külső eszköz.</p>

<p><strong>szerepkör alapú hozzáférés:</strong> Olyan megoldás, ahol a felhasználók csak a szerepkörükhöz tartozó funkciókat érhetik el.</p>

<p><strong>perzisztens adat:</strong> Olyan adat, amely tartósan, hosszú távon tárolódik.</p>

<p><strong>tranzakciós integritás:</strong> A tranzakciók hibamentes és teljes körű végrehajtásának garantálása.</p>

<p>1. ábra E-R diagram</p>
<img src="diagramsz/er.png" style="width:100%" alt="E-R diagram">


</body>
</html>
